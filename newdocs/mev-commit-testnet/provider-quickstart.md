---
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# Provider Quickstart

Providers play a crucial role in the network by handling bids and commitments. Follow the quickstart instructions below to join the network as a provider.

#### Quickstart p**re-requisites:**

* `curl`: A command-line tool used for downloading files from the internet. Ensure you have it installed on your system.
* `terminal`: Your command-line interface where you will execute the setup commands.

**Steps to Become a Provider:**

* **Setting Up the Provider Node:** The provider node is essential for participating in the network as a provider. It handles bid reception and processing.
* **Provider Emulator or gRPC-Enabled Service:** You also need to run a provider emulator or set up your own gRPC-enabled service. This is necessary for interacting with the provider node and managing bids effectively. To start your Provider node, execute the following command in your terminal:

```bash
curl -o launchmevcommit https://raw.githubusercontent.com/primevprotocol/scripts/main/launchmevcommit && chmod +x launchmevcommit && ./launchmevcommit --rpc-url http://69.67.151.95:8545 --node-type provider
```

❗You will need to expose port 13523 on your local machine to allow the provider node to establish connections that are incoming to the node.

#### gRPC Node Connection

Once a provider node is up and running, you can use the `ReceiveBids` stream to receive bids into offline infrastructure and send decisions based on those bids via the `SendProcessedBids` stream.

❗\*\*By default, this service is disabled\*\* and must be enabled by setting the ProviderAPIEnabled flag in the config file to true.

*   Config file with ProviderAPIEnabled set to true

    ```yaml
    **expose_provider_api: true**
    priv_key_file: /path/to/key
    peer_type: provider
    p2p_port: 13522
    http_port: 13523
    rpc_port: 13524
    secret: hello
    log_fmt: text
    log_level: debug
    bidder_registry_contract: 0x62197Abd7672925c7606Bdf9931e42baCa6619AD
    provider_registry_contract: 0xeA73E67c2E34C4E02A2f3c5D416F59B76e7617fC
    preconf_contract: 0xBB632720f817792578060F176694D8f7230229d9
    rpc_endpoint: http://69.67.151.95:8545
    bootnodes:
      - /ip4/69.67.151.95/tcp/13522/p2p/16Uiu2HAmLYUvthfDCewNMdfPhrVefBbsfaPL22fWWfC2zuoh5SpV
    ```
*   gRPC API Specification

    ```bash
    // ReceiveBids is called by the execution provider to receive bids from the mev-commit node.
    // The mev-commit node will stream bids to the execution provider.
    rpc ReceiveBids(EmptyMessage) returns (stream Bid) {}
    // SendProcessedBids is called by the provider to send processed bids to the mev-commit node.
    // The execution provider will stream processed bids to the mev-commit node.
    rpc SendProcessedBids(stream BidResponse) returns (EmptyMessage) {}
    ```

[The following file](https://github.com/primevprotocol/mev-commit/blob/main/integrationtest/provider/client.go) shows an implementation of a wrapped client that interfaces with the GRPC API client that was autogenerated [here](https://github.com/primevprotocol/mev-commit/blob/main/gen/go/rpc/providerapi/v1/providerapi.pb.go).

##

##

## -MOVE elsewhere-

## Provider Manual Start

Provider Manual Start is tailored for users who prefer a more hands-on approach, offering greater control over the setup process and the ability to customize configurations.

**Pre-requisites:**

* `curl`: Ensure this command-line tool is installed for file downloads.
* `terminal`: Used for executing all the commands.
* `cast`: A tool for Ethereum blockchain interactions. Install it by running

```bash
curl -L https://foundry.paradigm.xyz | bash
```

* Then execute `foundryup` to complete the setup
*   **Step 1. Check your CPU architecture**

    ```bash
    uname # This will give you the OS type
    uname -m # This will give you the chip architecture
    ```
*   **Step 2. Pull The Required Binary of mev-commit based on your CPU architecture**

    Download the binaries from the following

    https://github.com/primevprotocol/mev-commit/releases/tag/v0.1.0

    Unzip the binary and store it in a root directory of your choice
*   **Step 3. Place the binary, named mev-commit, into a folder of your choice**

    Note this will be considered the root folder of your mev-commit
*   **Step 4. Run the initialization**

    cd into the folder that contains the mev-commit binary and run the following command

    ```bash
    ./mev-commit init --dir . --rpc-endpoint http://69.67.151.95:8545  --peer-type provider
    ```

    This will create both a private key file and a config.yaml file and store it in your current directory.

    While in the directory, run the following command to export relevant data about your address and private key:

    ```bash
    export KEY=$(cat key)
    export ADDRESS=$(cast wallet address --private-key 0x$(cat key))
    ```
*   **Step 5. Fund the account**

    cd to the folder where you’ve stored the key and run the following command to transfer 100 ether into your wallet from a faucet account:

    ❗If you’ve named the private key file something other than key, change the key to the correct name in \`--private-key 0x$(cat \*\*\*key\*\*\*))\`

    ```bash
    cast send --rpc-url [http://69.67.151.95:8545](http://69.67.151.95:8545/) --private-key 0x7c9bf0f015874594d321c1c01ada3166c3509bbd91f76f9e4d7380c2df269c55 $(cast wallet address --private-key 0x$(cat key)) --value 100ether
    ```
*   **Step 6. Run the node**

    1. cd into the folder with your mev-commit binary
    2. Run the Node:

    ```bash
    ./mev-commit start --config=~/config.yaml
    ```
*   **Step 7. Stake Funds and Register**

    This command is used to ensure that your provider has been registered with a stake in our protocol. This is used to ensure it can connect with the mev-commit-p2p network. Ensure you run this command in the mev-commit directory.

    ```bash
    cast send 0xeA73E67c2E34C4E02A2f3c5D416F59B76e7617fC "registerAndStake()" $(cast wallet address --private-key 0x$(cat key)) --rpc-url http://69.67.151.95:8545 --private-key $(cat key) --value 100ether
    ```
